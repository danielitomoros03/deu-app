<!-- Outer Row -->
<div class="container d-flex bg-green-deu min-vh-100 align-items-center justify-content-center">
  <div class="col-xl-10 col-lg-12 col-md-9 col-sm-9 col-xs-9">
    <div class="card o-hidden border-1 shadow-lg m-5">
      <div class="card-body p-0">
        <!-- Nested Row within Card Body -->
        <div class="row">
          <div class="col-lg-6 d-none d-lg-block bg-login-image ms-3">
            <%= image_tag 'favicon.png', alt: 'Login Image' %>
          </div>
          <div class="col-lg-5">
            <div class="p-5">
              <div class="text-center">
                <h1 class="h3 text-gray-900 mb-4">¡Recupera tu contraseña!</h1>
              </div>

              <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :post }) do |f| %>
                <%= render "devise/shared/error_messages", resource: resource %>
                <div class="form-group">
                  <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control form-control-user', placeholder: 'Correo electrónico' %>
                </div>

                <div class="actions">
                  <%= f.submit "Enviar instrucciones", class: 'btn btn-primary btn-user btn-block' %>
                </div>
              <% end %>

              <br>
              <hr>
              <div class="text-center">
                <%= render "devise/shared/links", class: 'small' %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <br> -->
  </div>
</div>

<style>
  /* Ensure the page and body fill the viewport and remove default margins */
  html, body { height: 100%; margin: 0; padding: 0; }
  /* Prevent horizontal scroll introduced by wide elements */
  body { overflow-x: hidden; background-color: #01695b; }

  /* Use a fixed pseudo-element to cover the entire viewport with the image.
     This prevents white gutters on large screens and decouples image size
     from the container layout. */
  .bg-green-deu {
    position: relative;
    background-color: #01695b; /* visible under the translucent image */
    min-height: 100vh;
    color: #fff;
    width: 100%;
  }

  .bg-green-deu::before {
    content: "";
    position: fixed; /* cover viewport regardless of container size */
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url("<%= asset_path('deuimg.jpg') %>");
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    opacity: 0.22; /* <-- Change this value to adjust image opacity (0 = invisible, 1 = full) */
    pointer-events: none;
    z-index: 0;
  }

  /* Content should sit above the fixed background */
  .bg-green-deu > * { position: relative; z-index: 1; }

  /* Ensure the small login image column doesn't show a white background */
  .bg-login-image img { max-width: 100%; display: block; }

  /* Tweak the wrapper so the centered card doesn't push layout beyond viewport */
  .bg-green-deu .card { margin: 2rem auto; }
</style>
